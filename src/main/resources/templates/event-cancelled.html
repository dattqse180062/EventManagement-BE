<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="${title ?: 'Event Cancellation'}"></title>
    <style>
      /* Reset CSS cho email client */
      body,
      table,
      td,
      a {
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
      }
      table,
      td {
        mso-table-lspace: 0pt; /*!*/
        mso-table-rspace: 0pt; /*!*/
      }
      img {
        -ms-interpolation-mode: bicubic; /*!*/
      }
      a[x-apple-data-detectors] {
        color: inherit !important;
        text-decoration: none !important;
        font-size: inherit !important;
        font-family: inherit !important;
        font-weight: inherit !important;
        line-height: inherit !important;
      }

      /* Global Styles */
      body {
        font-family: "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        margin: 0;
        padding: 0;
        background-color: #f7f9fa; /* Nền tổng thể: Xám xanh rất nhạt */
      }
      .container {
        max-width: 580px;
        margin: 20px auto;
        background-color: #ffffff;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08); /* Bóng đổ tinh tế hơn */
        /* THAY ĐỔI TẠI ĐÂY: Thêm viền cho container */
        border: 1px solid #e0e0e0; /* Viền xám nhạt */
      }
      .header {
        background-color: #6c757d; /* Màu xám trung tính cho header */
        padding: 35px 25px;
        color: white;
        text-align: center;
        border-bottom: 6px solid #5a6268; /* Xám đậm hơn cho đường kẻ dưới */
      }
      .header h1 {
        margin: 0;
        font-size: 30px;
        font-weight: 700;
        letter-spacing: -0.5px;
      }
      .content {
        padding: 25px 35px;
        background-color: #ffffff;
      }
      .content p {
        margin-bottom: 15px;
      }
      .event-details {
        background-color: #f8f9fa; /* Nền xám nhạt cho chi tiết sự kiện */
        padding: 25px;
        margin: 25px 0;
        border-radius: 8px;
        border-left: 6px solid #6c757d; /* Xám chủ đạo cho đường kẻ trái */
      }
      .event-details h3 {
        color: #5a6268; /* Xám đậm hơn */
        margin-top: 0;
        margin-bottom: 18px;
        font-size: 20px;
        font-weight: 600;
      }
      .event-details p {
        margin-bottom: 10px;
      }
      .event-details strong {
        color: #495057;
        font-weight: 600;
      }
      .footer {
        text-align: center;
        padding: 25px;
        font-size: 11px;
        color: #888;
        background-color: #e9ecef; /* Nền xám nhạt */
        border-top: 1px solid #dee2e6;
        border-radius: 0 0 10px 10px;
      }
      .button {
        display: inline-block;
        padding: 14px 30px;
        background-color: #007bff; /* Giữ màu xanh dương cho nút hành động */
        color: white !important;
        text-decoration: none;
        border-radius: 6px;
        margin-top: 30px;
        font-weight: bold;
        font-size: 16px;
        letter-spacing: 0.2px;
        box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);
        transition: background-color 0.2s ease-in-out;
      }
      .button:hover {
        background-color: #0056b3;
      }
      /* Ẩn phần QR code và ghi chú đính kèm nếu không dùng */
      .qr-code-section,
      .attachment-note {
        display: none;
      }
      small {
        font-size: 11px;
        color: #777;
      }
      /* CSS để làm nổi bật dòng chú thích */
      .important-note {
        background-color: #f0f0f0; /* Nền xám nhạt */
        padding: 12px 18px;
        margin: 20px 0; /* Khoảng cách trên dưới */
        border-left: 4px solid #6c757d; /* Đường kẻ trái màu xám */
        border-radius: 5px;
        font-size: 0.95em;
        color: #333;
        line-height: 1.5;
        font-weight: normal;
      }
      .important-note strong {
        color: #555;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1 th:text="${title}">Event Cancellation</h1>
      </div>

      <div class="content">
        <p th:text="${greeting}">Hello!</p>

        <div th:utext="${message}">
          <p>
            Your registration for the event has been successfully cancelled.
          </p>
          <p class="important-note">
            <strong
              >Please note that you will not be able to re-register for this
              specific event once your registration has been cancelled.</strong
            >
          </p>
          <p>
            We regret to see you go, but we hope to welcome you at our other
            exciting events in the future.
          </p>
        </div>

        <div class="event-details" th:if="${eventDetails != null}">
          <h3>Event Details</h3>
          <p>
            <strong>Event Name:</strong>
            <span th:text="${eventDetails.name}">[Event Name]</span>
          </p>
          <p>
            <strong>Event Date:</strong>
            <span th:text="${eventDetails.date}">[Event Date]</span>
          </p>

          <p th:if="${eventMode == 'OFFLINE'}">
            <strong>Location:</strong>
            <span th:text="${eventDetails.physicalLocation}"
              >[Physical Location]</span
            >
          </p>
          <p th:if="${eventMode == 'ONLINE'}">
            <strong>Platform:</strong>
            <span th:text="${eventDetails.onlinePlatform}"
              >[Online Platform]</span
            >
          </p>
          <div th:if="${eventMode == 'HYBRID'}">
            <p>
              <strong>In-person Location:</strong>
              <span th:text="${eventDetails.physicalLocation}"
                >[Physical Location]</span
              >
            </p>
            <p>
              <strong>Online Platform:</strong>
              <span th:text="${eventDetails.onlinePlatform}"
                >[Online Platform]</span
              >
            </p>
          </div>

          <p>
            <strong>Original Registration Time:</strong>
            <span th:text="${eventDetails.registrationTime}"
              >[Original Registration Time]</span
            >
          </p>
          <p>
            <strong>Cancellation Time:</strong>
            <span th:text="${eventDetails.cancellationTime}"
              >[Cancellation Time]</span
            >
          </p>
        </div>

        <div th:if="${buttonUrl != null}" style="text-align: center">
          <a class="button" th:href="${buttonUrl}" th:text="${buttonText}"
            >Explore Other Events</a
          >
        </div>
      </div>

      <div class="footer">
        <p>This is an automated message from the Event Management System.</p>
        <p>
          &copy;
          <span th:text="${#dates.format(#dates.createNow(), 'yyyy')}"
            >2025</span
          >
          FPT University. All rights reserved.
        </p>
      </div>
    </div>
  </body>
</html>
